<xml>


<!-- WINDOWS TOOLS -------------------------------------->

<set name="USE_PRECOMPILED_HEADERS" value="msvc" unless="NO_PRECOMPILED_HEADERS" />

<set name="ABI" value="-MT" unless="ABI"/>

<compiler id="MSVC" exe="cl.exe" if="windows">
  <flag value="-nologo"/>
  <flag value="-Od" if="debug"/>
  <!-- -O2 is back ! -->
  <flag value="-O2" unless="debug"/>
  <flag value="${ABI}" />
  <flag value="-DHX_WINDOWS"/>
  <flag value="-DHX_LITTLE_ENDIAN=0" if="HXCPP_BIG_ENDIAN"/>
  <flag value="-GR"/>
  <flag value="-Zi"/>
  <flag value="-c"/>
  <flag value="-EHs"/>
  <flag value="-I${HXCPP}/include"/>
  <include name="common-defines.xml" />
  <flag value="-D_CRT_SECURE_NO_DEPRECATE"/>
  <flag value="-DHX_WIN_MAIN" if="no_console"/>
  <flag value="-wd4996"/>
  <outflag value="-Fo"/>
  <ext value=".obj"/>
  <objdir value="obj/mscv-dbg" if="debug"/>
  <objdir value="obj/mscv" unless="debug"/>
  <objdir value="obj/mscv-static" if="static"/>
</compiler>

<linker id="dll" exe="link.exe" if="windows">
  <flag value="-nologo"/>
  <flag value="-machine:x86"/>
  <flag value="-dll"/>
  <flag value="-debug" if="debug"/>
  <ext value=".dll"/>
  <libdir name="obj/lib"/>
  <flag value="-libpath:lib"/>
  <fromfile value="@"/>
  <outflag value="-out:"/>
</linker>

<linker id="exe" exe="link.exe" if="windows">
  <fromfile value="@"/>
  <flag value="-nologo"/>
  <flag value="-machine:x86"/>
  <flag value="-debug" unless="debug"/>
  <flag value="-debug" if="debug"/>
  <flag value="-subsystem:windows" if="no_console"/>
  <flag value="-libpath:lib"/>
  <flag value="user32.lib"/>
  <ext value=".exe"/>
  <outflag value="-out:"/>
</linker>

<linker id="static" exe="lib.exe" if="windows">
  <fromfile value="@"/>
  <flag value="-nologo"/>
  <ext value=".lib"/>
  <outflag value="-out:"/>
</linker>



</xml>
